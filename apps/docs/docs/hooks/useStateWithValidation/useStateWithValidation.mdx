import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import DemoComponent from './demo_useStateWithValidation'
import {RelatedTable, HeadlessTable, Card, MainText} from '/src/components'
import { getHookDataByTitle } from '/utils/getHooks'
const data = getHookDataByTitle('useStateWithValidation')

<Card><MainText>{data.description}</MainText></Card>



## Usage    
 

```js 
import { useStateWithValidation } from '@pratiq/hooks'

const { value, setValue, isValid, lastValidValue } = useStateWithValidation({
  value: 25,
  validator: (v:T) => typeof v === 'number' && v > 20
})
```


<!-- ======================================================================= -->
<hr />

## Demo

<DemoComponent />



<!-- ======================================================================= -->
<hr />

## API


### Config Example

```ts
const {value, setValue, isValid, lastValidValue} = useStateWithValidation<number>({
  value: 25,
  validator: (v:T) => typeof v === 'number' && v > 20
})
```


### Interfaces

```ts
export type T_UseStateWithValidationConfig = {
    validator?: RegExp | string | (value:any) => boolean;
    value?: any;
}

type T_UseStateWithValidation = <T>(config?: T_UseStateWithValidationConfig) => {
    value: T;
    setValue: (v:any) => void;
    isValid: boolean;
    lastValidValue: any;
}
```


### Return Values

<HeadlessTable code={2} items={[
    ['@value','T','The current state of the value'],
    ['@lastValidValue','T','The last valid value that was set to state'],
    ['@isValid','boolean','True if the current value is valid'],
]}/>


<!-- ======================================================================= -->
<hr />

## Internal

<RelatedTable hooks={[
  'useState',
  'useEffect',
  'useCallback',
  'useMemo'
]} />


<!-- ======================================================================= -->
<hr />

## Related Hooks

<RelatedTable hooks={[
  'useStateWithHistory',
  'useInput',
  'useStateArray'
]} />